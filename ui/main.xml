<?xml version="1.0" encoding="UTF-8"?>
<!--
	Created by ApplusForm.com on 2013.12.31

	Permission is granted to copy, distribute, modify under the terms of ApplusForm License.

	Copyright (C) 2013 ApplusForm.com All rights reserved.
-->
<MOML version="1.1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.applusform.com/xsd/moml_ui.xsd">

	<THEMES id="themeMenu">
	</THEMES>


	<UI>
		<UILAYOUT portrait="320,460" landscape="320,460" theme="themeMenu">
			<WINDOW id="id_rightArea" layout="0,0,320,460" defaultImg="#E5E5E5" onClick="'none'">
				<CONTAINER id="webContainer" layout="0,0,320,460" src="webView.xml"/>

				<!-- Sidemenu 접기 펼치기 gripper -->
				<!--
					<WINDOW id="gripper" layout="0,200,20,80" visible="invisible">
					<BUTTON layout="0,0,20,20" defaultImg="#80aaffaa" text="▲" padding="0,0,0,0"/>
					<BUTTON layout="0,20,20,40" defaultImg="#80aaaaff" text="||" padding="0,0,0,0" onClick="function.slide"/>
					<BUTTON layout="0,60,20,20" defaultImg="#80aaffaa" text="▼" padding="0,0,0,0"/>
					</WINDOW>
				-->
			</WINDOW>

			
			
		</UILAYOUT>
	</UI>

	<!-- 초기화 값들 -->
	<FUNCTIONCALL condition="id_rightArea.left == 140" cmd="userVariable.menuView='0'" elseCmd="userVariable.menuView='1'"/>
	<FUNCTIONCALL cmd="userVariable.slideAnimationEnd = 'true'"/>


	<FUNCTIONLIST>
		<FUNCTION id="slide">
			<FUNCTIONITEM condition="userVariable.galleryVisible=='true'" cmd="galleryPopup.visible='invisible'"/>
			<FUNCTIONITEM condition="userVariable.slideAnimationEnd == 'true'" cmd="function.slideDo"/>
		</FUNCTION>
		<FUNCTION id="slideDo">
			<FUNCTIONITEM cmd="userVariable.slideAnimationEnd = 'false'"/>
			<FUNCTIONITEM condition="userVariable.menuView=='0'" cmd="function.slideFold" elseCmd="function.slideUnfold"/>
		</FUNCTION>
		<FUNCTION id="slideFold">
			<FUNCTIONITEM cmd="userVariable.overlay1=image.capture('id_leftMenu', 0, 0, 60, 560)"/>
			<FUNCTIONITEM cmd="userVariable.overlay2=image.capture('id_leftMenu', 60, 0, 60, 560)"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay1.defaultImg=userVariable.overlay1"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay2.defaultImg=userVariable.overlay2"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay1.visible='visible'"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay2.visible='visible'"/>
			<FUNCTIONITEM cmd="id_leftMenu.visible='invisible'" delay="100"/>

			<FUNCTIONITEM cmd="animation.polyOut('id_leftMenuOverlay1', 0, 0, -58, 50, 0, 0, -58, -50, 'easeOut4', 400, '')"/>
			<FUNCTIONITEM cmd="animation.polyOut('id_leftMenuOverlay2', -62, 50, -119, 0, -62, -50, -119, 0, 'easeOut4', 400, '')"/>
			<FUNCTIONITEM cmd="id_leftMenu.visible='invisible'" delay="100"/>
			<FUNCTIONITEM cmd="userVariable.menuView='1', id_rightArea.left=0, animation.flyIn('id_rightArea', 120, 0, 320, 460, 'easeOut4', 400, '')"/>
			<FUNCTIONITEM cmd="userVariable.slideAnimationEnd = 'true'" delay="400"/>
		</FUNCTION>

		<FUNCTION id="slideUnfold">
			<FUNCTIONITEM cmd="animation.polyIn('id_leftMenuOverlay1', 0, 0, -59, 50, 0, 0, -59, -50, 'easeOut3', 400, '')"/>
			<FUNCTIONITEM cmd="animation.polyIn('id_leftMenuOverlay2', -59, 50, -119, 0, -59, -50, -119, 0, 'easeOut3', 400, '')"/>
			<FUNCTIONITEM cmd="userVariable.menuView='0', function.updateRadio, animation.flyOut('id_rightArea', 120, 0, 320, 460, 'easeOut3', 400, 'id_rightArea.left=120,id_rightArea.visible=\'visible\'')"/>
			<FUNCTIONITEM cmd="id_leftMenu.visible='visible'" delay="400"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay1.visible='invisible'" delay="400"/>
			<FUNCTIONITEM cmd="id_leftMenuOverlay2.visible='invisible'" delay="400"/>

			<FUNCTIONITEM cmd="userVariable.slideAnimationEnd = 'true'" delay="400"/>
		</FUNCTION>


		<FUNCTION id="navigation(item)">
			<FUNCTIONITEM condition="userVariable.galleryVisible=='true'" cmd="galleryPopup.visible='invisible'"/>
			<FUNCTIONITEM condition="userVariable.menuView==0" cmd="function.slideFold" delay="200"/>
			<FUNCTIONITEM cmd="webContainer.webView.src=item"/>
		</FUNCTION>
		<FUNCTION id="back">
			<FUNCTIONITEM condition="userVariable.galleryVisible=='true' and galleryPopup.visible == 'visible'" cmd="galleryPopup.visible='invisible'" elseCmd="webContainer.webView.back"/>
		</FUNCTION>

		<FUNCTION id="navigationLinkHook(item)">
			<FUNCTIONITEM condition="userVariable.menuView==0" cmd="function.slideFold" delay="200"/>
			<FUNCTIONITEM cmd="function.webContainer.linkHookInitLayout(item)"/>
		</FUNCTION>

		<FUNCTION id="menuAllMenu">
			<FUNCTIONITEM cmd="function.slide"/>
			<FUNCTIONITEM cmd="userVariable.selectedItem = navigation.selectedItem"/>
			<FUNCTIONITEM cmd="navigation.selectedItem='allMenu'"/>
		</FUNCTION>
		<FUNCTION id="updateRadio">
		</FUNCTION>

		<FUNCTION id="menuKey">
			<FUNCTIONITEM cmd="function.slide"/>
		</FUNCTION>

		<FUNCTION id="menuKey2">
			<FUNCTIONITEM cmd="container.open('menuKeyPopup.xml', 'menuKeyPopup')"/>
			<FUNCTIONITEM cmd="function.menuKeyPopup.init" delay="100"/>
		</FUNCTION>

		<FUNCTION id="gallery">
			<FUNCTIONITEM cmd="galleryPopup.visible='visible'"/>
			<FUNCTIONITEM condition="userVariable.galleryVisible!='true'" cmd="galleryPopup.src='gallery/galleryPopup.xml'"/>
		</FUNCTION>

		<FUNCTION id="fillOrderInfo">
			<FUNCTIONITEM cmd="webContainer.webView.runJavaScript(file.read('js/fillOrderInfo.js'))"/>
		</FUNCTION>

		<FUNCTION id="viewSource">
			<FUNCTIONITEM cmd="webContainer.webView.runJavaScript(file.read('js/viewSource.js'))"/>
		</FUNCTION>

		<FUNCTION id="chat">
			<FUNCTIONITEM cmd="container.open('chat/chatPopup.xml', 'chatPopup')"/>
		</FUNCTION>

		<FUNCTION id="viewWebBrowser">
			<FUNCTIONITEM cmd="userVariable.url = webContainer.webView.url"/>
			<FUNCTIONITEM condition="string.sub(userVariable.url, 0, 7)!='http://'" cmd="userVariable.url = 'http://mulawear.com'"/>
			<FUNCTIONITEM cmd="appLauncher.openUri(userVariable.url, '')"/>
		</FUNCTION>

		<FUNCTION id="test">
			<FUNCTIONITEM cmd="device.toastPopup(webContainer.webView.runJavaScript('document.title'))"/>
		</FUNCTION>

	</FUNCTIONLIST>


</MOML>